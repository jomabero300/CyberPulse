<NavigationLock OnBeforeInternalNavigation="OnBeforeInternalNavigation" />

<EditForm EditContext="editContext" OnValidSubmit="OnValidSubmit">

	<DataAnnotationsValidator />

	<MudTextField Label="@Localizer["Unspsc"]"
				  @bind-Value="@FamilyDTO.Code"
				  For="@(() => FamilyDTO.Code)"
				  class="mb-3" />


	<MudTextField Label="@Localizer["Family"]"
				  @bind-Value="@FamilyDTO.Name"
				  For="@(() => FamilyDTO.Name)"
				  class="mb-3" />

	<MudAutocomplete T="SegmentDTO"
					 Label=@Localizer["Segment"]
					 Placeholder=@Localizer["SelectASegment"]
					 SearchFunc="SearchSegment"
					 Value="selectedSegment"
					 ValueChanged="SegmentChanged"
					 ToStringFunc="@(e=> e==null?null : $"{e.Name}")"
					 For="@(() => FamilyDTO.Segment)">
		<ItemTemplate Context="itemContext">
			@itemContext.Name
		</ItemTemplate>
	</MudAutocomplete>

	<MudAutocomplete T="StatuDTO"
					 Label=@Localizer["Statu"]
					 Disabled="_disable"
					 Placeholder=@Localizer["SelectAStatu"]
					 SearchFunc="SearchStatu"
					 Value="selectedStatu"
					 ValueChanged="StatuChanged"
					 ToStringFunc="@(e=> e==null?null : $"{e.Name}")"
					 For="@(() => FamilyDTO.Statu)">

		<ItemTemplate Context="itemContext">
			@itemContext.Name
		</ItemTemplate>
	</MudAutocomplete>

	<MudDivider Class="my-2" DividerType="DividerType.Inset" />

	<MudButton Variant="Variant.Outlined"
			   StartIcon="@Icons.Material.Filled.ArrowBack"
			   Color="Color.Info"
			   OnClick="ReturnAction">
		@Localizer["Return"]
	</MudButton>

	<MudButton Variant="Variant.Outlined"
			   StartIcon="@Icons.Material.Filled.Check"
			   Color="Color.Primary"
			   ButtonType="ButtonType.Submit">
		@Localizer["SaveChanges"]
	</MudButton>
</EditForm>